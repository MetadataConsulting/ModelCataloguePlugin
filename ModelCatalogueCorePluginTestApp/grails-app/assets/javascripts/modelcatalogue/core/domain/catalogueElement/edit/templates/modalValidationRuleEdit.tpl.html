<div class="modal-header">
  <h4>New Validation Rule</h4>
</div>
<div class="modal-body">
  <messages-panel messages="messages"></messages-panel>
  <form role="form" ng-submit="saveElement()">
    <div class="form-group" ng-if="!hideDataModels()">
      <label for="dataModel"> Data Models</label>
      <elements-as-tags elements="copy.dataModels"></elements-as-tags>
      <input id="dataModel" placeholder="Data Model" ng-model="pending.dataModel" catalogue-element-picker="dataModel" label="el.name" typeahead-on-select="addToDataModels()">
    </div>
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" placeholder="Name" ng-model="copy.name">
    </div>
    <div class="form-group">
      <label for="component">Component</label>
      <input type="text" class="form-control" id="component" placeholder="Component" ng-model="copy.component">
    </div>
    <div class="form-group">
      <label for="ruleFocus">Rule Focus</label>
      <input type="text" class="form-control" id="ruleFocus" placeholder="Rule Focus" ng-model="copy.ruleFocus">
    </div>
    <div class="form-group">
      <label for="dataClasses">Contexutal Data Classes</label>
      <elements-as-tags elements="copy.dataClasses" ></elements-as-tags>
      <input type="text" class="form-control" id="dataClasses" placeholder="Data Classes" ng-model="dataClass" catalogue-element-picker resource="'dataClass'" status='draft' typeahead-on-select="copy.dataClasses.push(dataClass);dataClass = null">
    </div>
    <div class="form-group">
      <label for="dataElements">Involved Data Elements</label>
      <elements-as-tags elements="copy.dataElements" ></elements-as-tags>
      <input type="text" class="form-control" id="dataElements" placeholder="Data Elemenets" ng-model="dataElement" catalogue-element-picker resource="'dataElement'" status='draft' typeahead-on-select="copy.dataElements.push(dataElement);dataElement = null">
    </div>
    <div class="form-group">
      <label for="trigger">Trigger</label>
      <input type="text" class="form-control" id="trigger" placeholder="Trigger" ng-model="copy.trigger">
    </div>
    <div class="form-group">
      <label for="rule">Rule</label>
      <textarea class="form-control" id="rule" ng-model="copy.rule" rows="10" placeholder="Rule"></textarea>
    </div>
    <div class="form-group">
      <label for="errorCondition">Error Condition</label>
      <input type="text" class="form-control" id="errorCondition" placeholder="Error Condition" ng-model="copy.errorCondition">
    </div>
    <div class="form-group">
      <label for="issueRecord">Issue Record</label>
      <input type="text" class="form-control" id="issueRecord" placeholder="Issue Record" ng-model="copy.issueRecord">
    </div>
    <div class="form-group">
      <label for="notification">Notification</label>
      <input type="text" class="form-control" id="notification" placeholder="Notification" ng-model="copy.notification">
    </div>
    <div class="form-group">
      <label for="notificationTarget">Notification Target</label>
      <input type="text" class="form-control" id="notificationTarget" placeholder="Notification Target" ng-model="copy.notificationTarget">
    </div>
    <div class="form-group">
      <label for="description">Description</label>
      <textarea rows="10" ng-model="copy.description" placeholder="Description" class="form-control" id="description"></textarea>
    </div>
    <div class="form-group">
      <label for="modelCatalogueId">Catalogue ID</label>
      <input type="text" class="form-control" id="modelCatalogueId" placeholder="e.g. external ID, namespace (leave blank for generated)" ng-model="copy.modelCatalogueId">
    </div>
    <fake-submit-button></fake-submit-button>
  </form>
</div>
<div class="modal-footer">
  <contextual-actions role="{{::actionRoleAccess.ROLE_MODAL_ACTION}}"></contextual-actions>
</div>
